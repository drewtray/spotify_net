---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "feat_engSpot.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: feat_engSpot.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">boto3</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">pandas_profiling</span> <span class="kn">import</span> <span class="n">ProfileReport</span>

<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">TruncatedSVD</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_track</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;features_spot.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_track</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">df_track</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(1145, 388)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>artist</th>
      <th>artist id</th>
      <th>playlist id</th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>...</th>
      <th>underground rap</th>
      <th>vapor pop</th>
      <th>vapor soul</th>
      <th>vapor twitch</th>
      <th>vaporwave</th>
      <th>vienna indie</th>
      <th>viral rap</th>
      <th>vocal house</th>
      <th>wave</th>
      <th>wonky</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0afGLa6wcYiLLXFZ48ZQpY</td>
      <td>Thunder</td>
      <td>Roy Blair</td>
      <td>6Sa4YbwEdGlfVSJMF1Lp67</td>
      <td>søndag</td>
      <td>0.667</td>
      <td>0.316</td>
      <td>0</td>
      <td>-9.132</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3LH6EfPCeySeuymuK2gWAO</td>
      <td>Bedroom</td>
      <td>Litany</td>
      <td>2z6JjrrJKNLilqlx8mlxcc</td>
      <td>søndag</td>
      <td>0.692</td>
      <td>0.452</td>
      <td>6</td>
      <td>-8.180</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0bonUwkDjTgQ8URsgCcHhH</td>
      <td>Cherry Blossom</td>
      <td>Raury</td>
      <td>2PU4qFehXQF7WnlFsJpBiJ</td>
      <td>søndag</td>
      <td>0.805</td>
      <td>0.176</td>
      <td>7</td>
      <td>-20.783</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3rxYhGVE6GHQyAy4CdGfq1</td>
      <td>Pink &amp; Blue (RAC Mix)</td>
      <td>Tycho</td>
      <td>5oOhM2DFWab8XhSdQiITry</td>
      <td>søndag</td>
      <td>0.671</td>
      <td>0.721</td>
      <td>5</td>
      <td>-7.378</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2H7Nwzydg8ZusjdWkYqsHy</td>
      <td>Redstripe Rhapsody</td>
      <td>LAUSSE THE CAT</td>
      <td>2Zv7tySETckaR2robozkcz</td>
      <td>søndag</td>
      <td>0.633</td>
      <td>0.326</td>
      <td>4</td>
      <td>-15.050</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 388 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">to_drop</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;uri&#39;</span><span class="p">,</span> <span class="s1">&#39;track_href&#39;</span><span class="p">,</span> <span class="s1">&#39;analysis_url&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">]</span>
<span class="n">df_track</span> <span class="o">=</span> <span class="n">df_track</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_track</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">df_track</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(1145, 383)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>artist</th>
      <th>artist id</th>
      <th>playlist id</th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>...</th>
      <th>underground rap</th>
      <th>vapor pop</th>
      <th>vapor soul</th>
      <th>vapor twitch</th>
      <th>vaporwave</th>
      <th>vienna indie</th>
      <th>viral rap</th>
      <th>vocal house</th>
      <th>wave</th>
      <th>wonky</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Thunder</td>
      <td>Roy Blair</td>
      <td>6Sa4YbwEdGlfVSJMF1Lp67</td>
      <td>søndag</td>
      <td>0.667</td>
      <td>0.316</td>
      <td>0</td>
      <td>-9.132</td>
      <td>1</td>
      <td>0.0262</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bedroom</td>
      <td>Litany</td>
      <td>2z6JjrrJKNLilqlx8mlxcc</td>
      <td>søndag</td>
      <td>0.692</td>
      <td>0.452</td>
      <td>6</td>
      <td>-8.180</td>
      <td>1</td>
      <td>0.1160</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Cherry Blossom</td>
      <td>Raury</td>
      <td>2PU4qFehXQF7WnlFsJpBiJ</td>
      <td>søndag</td>
      <td>0.805</td>
      <td>0.176</td>
      <td>7</td>
      <td>-20.783</td>
      <td>1</td>
      <td>0.0617</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Pink &amp; Blue (RAC Mix)</td>
      <td>Tycho</td>
      <td>5oOhM2DFWab8XhSdQiITry</td>
      <td>søndag</td>
      <td>0.671</td>
      <td>0.721</td>
      <td>5</td>
      <td>-7.378</td>
      <td>1</td>
      <td>0.0384</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Redstripe Rhapsody</td>
      <td>LAUSSE THE CAT</td>
      <td>2Zv7tySETckaR2robozkcz</td>
      <td>søndag</td>
      <td>0.633</td>
      <td>0.326</td>
      <td>4</td>
      <td>-15.050</td>
      <td>0</td>
      <td>0.3260</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 383 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_track</span> <span class="o">=</span> <span class="n">df_track</span><span class="p">[(</span><span class="n">df_track</span><span class="p">[</span><span class="s1">&#39;playlist id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;3 x 5&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_track</span><span class="p">[</span><span class="s1">&#39;playlist id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Loss for words&#39;</span><span class="p">)]</span>
<span class="n">df_track</span> <span class="o">=</span> <span class="n">df_track</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># profile.to_file(&quot;profile.html&quot;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gen_list</span> <span class="o">=</span> <span class="n">df_track</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">17</span><span class="p">:]</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_track</span><span class="p">[</span><span class="n">gen_list</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="mf">0.0000001</span>
<span class="n">df_track</span><span class="p">[[</span><span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">df_track</span><span class="p">[[</span><span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">]]</span> <span class="o">+</span> <span class="n">c</span>
<span class="n">df_track</span><span class="p">[[</span><span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df_track</span><span class="p">[[</span><span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_track</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df_track</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;time_signature&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;time_signature&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_track</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>artist</th>
      <th>artist id</th>
      <th>playlist id</th>
      <th>danceability</th>
      <th>energy</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>...</th>
      <th>key_6</th>
      <th>key_7</th>
      <th>key_8</th>
      <th>key_9</th>
      <th>key_10</th>
      <th>key_11</th>
      <th>time_signature_1</th>
      <th>time_signature_3</th>
      <th>time_signature_4</th>
      <th>time_signature_5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Thunder</td>
      <td>Roy Blair</td>
      <td>6Sa4YbwEdGlfVSJMF1Lp67</td>
      <td>søndag</td>
      <td>0.667</td>
      <td>0.316</td>
      <td>-9.132</td>
      <td>1</td>
      <td>-3.641992</td>
      <td>-3.533583</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bedroom</td>
      <td>Litany</td>
      <td>2z6JjrrJKNLilqlx8mlxcc</td>
      <td>søndag</td>
      <td>0.692</td>
      <td>0.452</td>
      <td>-8.180</td>
      <td>1</td>
      <td>-2.154164</td>
      <td>-3.329805</td>
      <td>...</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Cherry Blossom</td>
      <td>Raury</td>
      <td>2PU4qFehXQF7WnlFsJpBiJ</td>
      <td>søndag</td>
      <td>0.805</td>
      <td>0.176</td>
      <td>-20.783</td>
      <td>1</td>
      <td>-2.785470</td>
      <td>-2.282781</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Pink &amp; Blue (RAC Mix)</td>
      <td>Tycho</td>
      <td>5oOhM2DFWab8XhSdQiITry</td>
      <td>søndag</td>
      <td>0.671</td>
      <td>0.721</td>
      <td>-7.378</td>
      <td>1</td>
      <td>-3.259695</td>
      <td>-2.032557</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Redstripe Rhapsody</td>
      <td>LAUSSE THE CAT</td>
      <td>2Zv7tySETckaR2robozkcz</td>
      <td>søndag</td>
      <td>0.633</td>
      <td>0.326</td>
      <td>-15.050</td>
      <td>0</td>
      <td>-1.120858</td>
      <td>-0.689155</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 397 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">df_track</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;playlist id&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">df_track</span><span class="p">[</span><span class="s1">&#39;playlist id&#39;</span><span class="p">],</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">2021</span><span class="p">)</span>

<span class="n">X_train</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_train</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>artist</th>
      <th>artist id</th>
      <th>danceability</th>
      <th>energy</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>...</th>
      <th>key_6</th>
      <th>key_7</th>
      <th>key_8</th>
      <th>key_9</th>
      <th>key_10</th>
      <th>key_11</th>
      <th>time_signature_1</th>
      <th>time_signature_3</th>
      <th>time_signature_4</th>
      <th>time_signature_5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>circle the drain</td>
      <td>Soccer Mommy</td>
      <td>4wXchxfTTggLtzkoUhO86Q</td>
      <td>0.482</td>
      <td>0.790</td>
      <td>-5.221</td>
      <td>1</td>
      <td>-3.270166</td>
      <td>-1.194022</td>
      <td>-8.180364</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sloucho Darx</td>
      <td>Hermitude</td>
      <td>3fmMaLC5jjf2N4EC2kTx0u</td>
      <td>0.499</td>
      <td>0.708</td>
      <td>-4.844</td>
      <td>0</td>
      <td>-1.609437</td>
      <td>-3.897129</td>
      <td>-2.447610</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>By Design</td>
      <td>Kid Cudi</td>
      <td>0fA0VVWsXO9YnASrzqfmYu</td>
      <td>0.756</td>
      <td>0.850</td>
      <td>-5.885</td>
      <td>0</td>
      <td>-2.922480</td>
      <td>-2.884189</td>
      <td>-7.119588</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>All I Want</td>
      <td>Bob Moses</td>
      <td>6LHsnRBUYhFyt01PdKXAF5</td>
      <td>0.691</td>
      <td>0.514</td>
      <td>-10.962</td>
      <td>1</td>
      <td>-3.390254</td>
      <td>-2.928072</td>
      <td>-0.306525</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>The Power</td>
      <td>David Penn</td>
      <td>5kA0fIY29Fnfu4U2I2xvki</td>
      <td>0.793</td>
      <td>0.847</td>
      <td>-6.250</td>
      <td>1</td>
      <td>-2.189256</td>
      <td>-7.992169</td>
      <td>-5.521436</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 396 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scale_col</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;danceability&#39;</span><span class="p">,</span> <span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;loudness&#39;</span><span class="p">,</span>
       <span class="s1">&#39;speechiness&#39;</span><span class="p">,</span> <span class="s1">&#39;acousticness&#39;</span><span class="p">,</span> <span class="s1">&#39;instrumentalness&#39;</span><span class="p">,</span> <span class="s1">&#39;liveness&#39;</span><span class="p">,</span>
       <span class="s1">&#39;valence&#39;</span><span class="p">,</span> <span class="s1">&#39;tempo&#39;</span><span class="p">,</span> <span class="s1">&#39;duration_ms&#39;</span><span class="p">]</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train</span><span class="p">[</span><span class="n">scale_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="n">scale_col</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gen_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">gen_list</span><span class="p">)</span>
<span class="n">gen_series</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;s3://spotify-net/genres_svd.csv&#39;</span><span class="p">)</span>

<span class="n">key_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;key_&#39;</span><span class="p">)])</span>
<span class="n">key_series</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;s3://spotify-net/key_list.csv&#39;</span><span class="p">)</span>

<span class="n">time_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;time_signature_&#39;</span><span class="p">)])</span>
<span class="n">time_series</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;s3://spotify-net/timeSig_list.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">svd</span> <span class="o">=</span> <span class="n">TruncatedSVD</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">gen_svd</span> <span class="o">=</span> <span class="n">svd</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="n">gen_list</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">exp_var</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">svd</span><span class="o">.</span><span class="n">explained_variance_ratio_</span><span class="p">)</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span> 
<span class="n">exp_var</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">svd</span> <span class="o">=</span> <span class="n">TruncatedSVD</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">gen_svd</span> <span class="o">=</span> <span class="n">svd</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="n">gen_list</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gen_trans</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">gen_svd</span><span class="p">)</span>
<span class="n">gen_trans</span> <span class="o">=</span> <span class="n">gen_trans</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="s1">&#39;genre_&#39;</span><span class="p">)</span>
<span class="n">gen_trans</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>genre_0</th>
      <th>genre_1</th>
      <th>genre_2</th>
      <th>genre_3</th>
      <th>genre_4</th>
      <th>genre_5</th>
      <th>genre_6</th>
      <th>genre_7</th>
      <th>genre_8</th>
      <th>genre_9</th>
      <th>...</th>
      <th>genre_50</th>
      <th>genre_51</th>
      <th>genre_52</th>
      <th>genre_53</th>
      <th>genre_54</th>
      <th>genre_55</th>
      <th>genre_56</th>
      <th>genre_57</th>
      <th>genre_58</th>
      <th>genre_59</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.066828</td>
      <td>1.115194</td>
      <td>-0.705494</td>
      <td>-0.486558</td>
      <td>-0.057863</td>
      <td>-0.391308</td>
      <td>0.111027</td>
      <td>-0.239956</td>
      <td>-0.095601</td>
      <td>0.054645</td>
      <td>...</td>
      <td>-0.006432</td>
      <td>-0.028857</td>
      <td>-0.008851</td>
      <td>0.029716</td>
      <td>0.095887</td>
      <td>-0.045664</td>
      <td>0.090556</td>
      <td>0.005176</td>
      <td>0.002278</td>
      <td>-0.010253</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.007082</td>
      <td>0.197111</td>
      <td>0.796033</td>
      <td>-0.721187</td>
      <td>0.466817</td>
      <td>0.152330</td>
      <td>-0.022132</td>
      <td>-0.055314</td>
      <td>0.032847</td>
      <td>-0.125844</td>
      <td>...</td>
      <td>-0.056900</td>
      <td>0.005944</td>
      <td>-0.022437</td>
      <td>0.050209</td>
      <td>-0.005624</td>
      <td>0.005388</td>
      <td>-0.018352</td>
      <td>-0.002539</td>
      <td>0.049357</td>
      <td>-0.028515</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.909698</td>
      <td>-0.137904</td>
      <td>-0.004439</td>
      <td>-0.057973</td>
      <td>-0.006172</td>
      <td>0.011506</td>
      <td>0.421177</td>
      <td>0.101534</td>
      <td>-0.465167</td>
      <td>-0.003166</td>
      <td>...</td>
      <td>-0.013297</td>
      <td>-0.003321</td>
      <td>-0.010952</td>
      <td>-0.039532</td>
      <td>-0.080119</td>
      <td>-0.141889</td>
      <td>0.041441</td>
      <td>0.009602</td>
      <td>-0.038471</td>
      <td>0.018829</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000092</td>
      <td>0.003971</td>
      <td>0.021130</td>
      <td>-0.020260</td>
      <td>-0.007076</td>
      <td>0.009500</td>
      <td>-0.001340</td>
      <td>-0.005122</td>
      <td>0.001383</td>
      <td>-0.010261</td>
      <td>...</td>
      <td>-0.009628</td>
      <td>-0.004337</td>
      <td>0.017101</td>
      <td>-0.049678</td>
      <td>0.051784</td>
      <td>-0.053085</td>
      <td>-0.046659</td>
      <td>-0.133515</td>
      <td>-0.040867</td>
      <td>-0.002870</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.003904</td>
      <td>0.089593</td>
      <td>0.239347</td>
      <td>-0.062151</td>
      <td>-0.088640</td>
      <td>-0.226324</td>
      <td>0.052423</td>
      <td>0.320204</td>
      <td>0.102592</td>
      <td>-0.057428</td>
      <td>...</td>
      <td>-0.342012</td>
      <td>0.029292</td>
      <td>-0.214812</td>
      <td>0.265645</td>
      <td>-0.003640</td>
      <td>-0.046678</td>
      <td>-0.186356</td>
      <td>0.439013</td>
      <td>-0.129059</td>
      <td>-0.004488</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 60 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">gen_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train</span><span class="p">,</span> <span class="n">gen_trans</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># profile.to_notebook_iframe()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pick_scale</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">scaler</span><span class="p">)</span> 
<span class="n">pick_svd</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">svd</span><span class="p">)</span>

<span class="n">s3_resource</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">s3_resource</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span><span class="s1">&#39;spotify-net&#39;</span><span class="p">,</span> <span class="s1">&#39;scaler&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Body</span><span class="o">=</span><span class="n">pick_scale</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">s3_resource</span><span class="o">.</span><span class="n">Object</span><span class="p">(</span><span class="s1">&#39;spotify-net&#39;</span><span class="p">,</span> <span class="s1">&#39;svd&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Body</span><span class="o">=</span><span class="n">pick_svd</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_train</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;s3://spotify-net/features_trainSpot.csv&#39;</span><span class="p">)</span>
<span class="n">df_test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;s3://spotify-net/features_testSpot.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

